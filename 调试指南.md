# ğŸ” Kçº¿å›¾è°ƒè¯•æŒ‡å—

## é—®é¢˜ï¼šåªæ˜¾ç¤ºæˆäº¤é‡ï¼Œæ²¡æœ‰èœ¡çƒ›å›¾

### å·²ä¿®å¤çš„é—®é¢˜

#### 1. **é…ç½®é¡ºåºé—®é¢˜**
**åŸå› **ï¼šåœ¨ `init()` æ—¶å°±ä¼ å…¥æ ·å¼é…ç½®å¯èƒ½å¯¼è‡´é…ç½®ä¸ç”Ÿæ•ˆ

**ä¿®å¤**ï¼š
```javascript
// âŒ æ—§æ–¹å¼ï¼šåœ¨åˆå§‹åŒ–æ—¶é…ç½®
chart = init('kline-chart', { styles: { ... } })

// âœ… æ–°æ–¹å¼ï¼šåˆå§‹åŒ–åå†é…ç½®
chart = init('kline-chart')
chart.setDataLoader({ ... })  // å…ˆåŠ è½½æ•°æ®
chart.setStyles({ ... })       // å†è®¾ç½®æ ·å¼
```

#### 2. **æˆäº¤é‡æŒ‡æ ‡ä½ç½®é—®é¢˜**
**åŸå› **ï¼š`{ id: 'candle_pane' }` ä¼šå°†æˆäº¤é‡æŒ‡æ ‡æ˜¾ç¤ºåœ¨ä¸»å›¾ä¸Šï¼Œå¯èƒ½é®æŒ¡èœ¡çƒ›å›¾

**ä¿®å¤**ï¼š
```javascript
// âŒ æ—§æ–¹å¼ï¼šåœ¨ä¸»å›¾ä¸Šæ˜¾ç¤º
chart.createIndicator('VOL', false, { id: 'candle_pane' })

// âœ… æ–°æ–¹å¼ï¼šåœ¨ç‹¬ç«‹çª—å£æ˜¾ç¤º
chart.createIndicator('VOL', false)
```

### ğŸ” è°ƒè¯•æ­¥éª¤

#### ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°

æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆæŒ‰ F12ï¼‰ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰ä»¥ä¸‹è¾“å‡ºï¼š

```
âœ… åŠ è½½äº† 30 æ ¹Kçº¿
ğŸ“Š ç¬¬ä¸€æ¡æ•°æ®: { timestamp: ..., open: ..., high: ..., low: ..., close: ..., volume: ... }
ğŸ“Š æœ€åä¸€æ¡æ•°æ®: { timestamp: ..., open: ..., high: ..., low: ..., close: ..., volume: ... }
```

**å¦‚æœæ²¡æœ‰çœ‹åˆ°è¿™äº›è¾“å‡º**ï¼š
- æ£€æŸ¥æ•°æ®æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- æ£€æŸ¥æ•°æ®æ ¼å¼æ˜¯å¦æ­£ç¡®

**å¦‚æœçœ‹åˆ°é”™è¯¯ä¿¡æ¯**ï¼š
- è®°å½•é”™è¯¯å†…å®¹
- æ ¹æ®é”™è¯¯æç¤ºä¿®å¤

#### ç¬¬äºŒæ­¥ï¼šæ£€æŸ¥æ•°æ®æ ¼å¼

åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œï¼š

```javascript
// æŸ¥çœ‹å›¾è¡¨æ•°æ®
chart.getDataList()
```

åº”è¯¥è¿”å›ç±»ä¼¼ï¼š
```javascript
[
  {
    timestamp: 1759939200000,
    open: 4445.04,
    high: 4555.9,
    low: 4288.0,
    close: 4312.36,
    volume: 3600506.03
  },
  // ... æ›´å¤šæ•°æ®
]
```

**æ£€æŸ¥è¦ç‚¹**ï¼š
- âœ… timestamp æ˜¯æ•°å­—ç±»å‹ï¼ˆä¸æ˜¯å­—ç¬¦ä¸²ï¼‰
- âœ… open, high, low, close, volume éƒ½æœ‰å€¼
- âœ… high >= lowï¼ˆæœ€é«˜ä»·åº”è¯¥å¤§äºç­‰äºæœ€ä½ä»·ï¼‰
- âœ… high >= open å’Œ high >= closeï¼ˆæœ€é«˜ä»·åº”è¯¥å¤§äºç­‰äºå¼€ç›˜å’Œæ”¶ç›˜ï¼‰
- âœ… low <= open å’Œ low <= closeï¼ˆæœ€ä½ä»·åº”è¯¥å°äºç­‰äºå¼€ç›˜å’Œæ”¶ç›˜ï¼‰

#### ç¬¬ä¸‰æ­¥ï¼šæ£€æŸ¥å›¾è¡¨å°ºå¯¸

åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œï¼š

```javascript
// è·å–å›¾è¡¨å°ºå¯¸
chart.getSize()
```

åº”è¯¥è¿”å›ï¼š
```javascript
{
  width: æ•°å­—,    // å®½åº¦åº”è¯¥ > 0
  height: æ•°å­—    // é«˜åº¦åº”è¯¥ > 0
}
```

**å¦‚æœå®½åº¦æˆ–é«˜åº¦ä¸º 0**ï¼š
- æ£€æŸ¥ CSS æ ·å¼
- ç¡®ä¿çˆ¶å®¹å™¨æœ‰æ˜ç¡®çš„å°ºå¯¸

#### ç¬¬å››æ­¥ï¼šå¼ºåˆ¶åˆ·æ–°

```bash
# 1. åœæ­¢æœåŠ¡å™¨ï¼ˆCtrl + Cï¼‰

# 2. æ¸…é™¤ç¼“å­˜
rm -rf .nuxt
# Windows PowerShell:
Remove-Item -Recurse -Force .nuxt

# 3. é‡æ–°å¯åŠ¨
npm run dev
```

### ğŸ“‹ æ£€æŸ¥æ¸…å•

#### HTML ç»“æ„
```vue
âœ… <div id="kline-chart"></div>
âœ… id="kline-chart" ä¸ init('kline-chart') åŒ¹é…
âœ… å®¹å™¨æœ‰æ˜ç¡®çš„é«˜åº¦ï¼ˆheight: 700pxï¼‰
```

#### æ•°æ®æ ¼å¼
```javascript
âœ… timestamp: æ•°å­—ï¼ˆæ¯«ç§’çº§æ—¶é—´æˆ³ï¼‰
âœ… open: æ•°å­—ï¼ˆå¼€ç›˜ä»·ï¼‰
âœ… high: æ•°å­—ï¼ˆæœ€é«˜ä»·ï¼‰
âœ… low: æ•°å­—ï¼ˆæœ€ä½ä»·ï¼‰
âœ… close: æ•°å­—ï¼ˆæ”¶ç›˜ä»·ï¼‰
âœ… volume: æ•°å­—ï¼ˆæˆäº¤é‡ï¼‰
```

#### API è°ƒç”¨é¡ºåº
```javascript
1. âœ… chart = init('kline-chart')
2. âœ… chart.setSymbol({ ... })
3. âœ… chart.setPeriod({ ... })
4. âœ… chart.setDataLoader({ ... })
5. âœ… chart.setStyles({ ... })
6. âœ… chart.createIndicator('VOL')
```

### ğŸ› å¸¸è§é—®é¢˜

#### é—®é¢˜1ï¼šå›¾è¡¨åŒºåŸŸæ˜¯ç©ºç™½çš„

**å¯èƒ½åŸå› **ï¼š
1. æ•°æ®æ²¡æœ‰åŠ è½½
2. æ—¶é—´æˆ³æ ¼å¼é”™è¯¯
3. ä»·æ ¼æ•°æ®å…¨éƒ¨ä¸º 0

**è§£å†³æ–¹æ³•**ï¼š
```javascript
// åœ¨ transformData å‡½æ•°ä¸­æ·»åŠ éªŒè¯
const transformData = (data) => {
  return data.map(item => {
    const transformed = {
      timestamp: parseInt(item.æ—¶é—´æˆ³),
      open: item.å¼€ç›˜ä»·,
      high: item.æœ€é«˜ä»·,
      low: item.æœ€ä½ä»·,
      close: item.æ”¶ç›˜ä»·,
      volume: item['æˆäº¤é‡(å¸)']
    }
    
    // éªŒè¯æ•°æ®
    if (transformed.high < transformed.low) {
      console.error('æ•°æ®é”™è¯¯ï¼šæœ€é«˜ä»· < æœ€ä½ä»·', transformed)
    }
    if (transformed.open === 0 && transformed.close === 0) {
      console.warn('æ•°æ®å¼‚å¸¸ï¼šå¼€ç›˜ä»·å’Œæ”¶ç›˜ä»·éƒ½æ˜¯0', transformed)
    }
    
    return transformed
  })
}
```

#### é—®é¢˜2ï¼šåªæ˜¾ç¤ºä¸€éƒ¨åˆ†Kçº¿

**å¯èƒ½åŸå› **ï¼š
- ç¼©æ”¾çº§åˆ«å¤ªå¤§
- å¯è§èŒƒå›´è®¾ç½®ä¸å½“

**è§£å†³æ–¹æ³•**ï¼š
```javascript
// é‡ç½®ç¼©æ”¾å’Œä½ç½®
chart.setBarSpace(10)  // è°ƒæ•´Kçº¿å®½åº¦
chart.scrollToRealTime()  // æ»šåŠ¨åˆ°æœ€æ–°
```

#### é—®é¢˜3ï¼šèœ¡çƒ›å›¾é¢œè‰²ä¸æ˜¾ç¤º

**å¯èƒ½åŸå› **ï¼š
- èƒŒæ™¯è‰²ä¸èœ¡çƒ›å›¾é¢œè‰²ç›¸åŒ
- é€æ˜åº¦è®¾ç½®é”™è¯¯

**è§£å†³æ–¹æ³•**ï¼š
```javascript
chart.setStyles({
  candle: {
    type: 'candle_solid',
    bar: {
      upColor: '#26A69A',      // ç¡®ä¿é¢œè‰²ä¸é€æ˜
      downColor: '#EF5350',
      upBorderColor: '#26A69A',
      downBorderColor: '#EF5350'
    }
  }
})
```

### ğŸ”§ æµ‹è¯•å‘½ä»¤

åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæµ‹è¯•ï¼š

```javascript
// 1. æ£€æŸ¥å›¾è¡¨å®ä¾‹
console.log('å›¾è¡¨å®ä¾‹:', chart)

// 2. è·å–æ•°æ®
const data = chart.getDataList()
console.log('æ•°æ®é•¿åº¦:', data.length)
console.log('æ•°æ®ç¤ºä¾‹:', data[0])

// 3. è·å–å¯è§èŒƒå›´
const range = chart.getVisibleRange()
console.log('å¯è§èŒƒå›´:', range)

// 4. è·å–å›¾è¡¨å°ºå¯¸
const size = chart.getSize()
console.log('å›¾è¡¨å°ºå¯¸:', size)

// 5. è·å–å½“å‰æ ·å¼
const styles = chart.getStyles()
console.log('èœ¡çƒ›å›¾æ ·å¼:', styles.candle)

// 6. å¼ºåˆ¶åˆ·æ–°
chart.resize()

// 7. æ»šåŠ¨åˆ°æœ€æ–°
chart.scrollToRealTime()
```

### ğŸ“Š æ­£å¸¸è¾“å‡ºç¤ºä¾‹

å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œæ§åˆ¶å°åº”è¯¥æ˜¾ç¤ºï¼š

```
âœ… åŠ è½½äº† 30 æ ¹Kçº¿
ğŸ“Š ç¬¬ä¸€æ¡æ•°æ®: {
  timestamp: 1759939200000,
  open: 4445.04,
  high: 4555.9,
  low: 4288.0,
  close: 4312.36,
  volume: 3600506.03
}
ğŸ“Š æœ€åä¸€æ¡æ•°æ®: {
  timestamp: 1762444800000,
  open: 3298.64,
  high: 3369.0,
  low: 3191.75,
  close: 3295.33,
  volume: 4310138.486
}
```

### ğŸ¯ å¿«é€Ÿä¿®å¤æ­¥éª¤

1. **é‡å¯æœåŠ¡å™¨**
   ```bash
   Ctrl + C
   npm run dev
   ```

2. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**
   - æŒ‰ `Ctrl + Shift + R` ï¼ˆå¼ºåˆ¶åˆ·æ–°ï¼‰
   - æˆ– F12 æ‰“å¼€å¼€å‘è€…å·¥å…· â†’ Network æ ‡ç­¾ â†’ å‹¾é€‰ "Disable cache"

3. **æ£€æŸ¥æ§åˆ¶å°æ—¥å¿—**
   - æŒ‰ F12 æ‰“å¼€æ§åˆ¶å°
   - æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

4. **éªŒè¯æ•°æ®**
   - è¿è¡Œ `chart.getDataList()` æ£€æŸ¥æ•°æ®
   - ç¡®ä¿æ•°æ®æ ¼å¼æ­£ç¡®

### ğŸ’¡ æç¤º

- å›¾è¡¨åŠ è½½éœ€è¦æ—¶é—´ï¼Œç­‰å¾…å‡ ç§’é’Ÿ
- å°è¯•æ»šåŠ¨æˆ–ç¼©æ”¾å›¾è¡¨
- æ£€æŸ¥ç½‘ç»œæ ‡ç­¾ï¼Œç¡®ä¿æ•°æ®æ–‡ä»¶å·²åŠ è½½
- ç¡®ä¿ä½¿ç”¨çš„æ˜¯ klinecharts@10.0.0-alpha9 æˆ–æ›´é«˜ç‰ˆæœ¬

### ğŸ“ ä»ç„¶æœ‰é—®é¢˜ï¼Ÿ

å¦‚æœæŒ‰ç…§ä»¥ä¸Šæ­¥éª¤æ“ä½œåä»ç„¶æ— æ³•æ˜¾ç¤ºèœ¡çƒ›å›¾ï¼š

1. åœ¨æµè§ˆå™¨æ§åˆ¶å°æˆªå›¾æ‰€æœ‰æ—¥å¿—
2. æ£€æŸ¥æ˜¯å¦æœ‰çº¢è‰²é”™è¯¯ä¿¡æ¯
3. è¿è¡Œæµ‹è¯•å‘½ä»¤å¹¶è®°å½•è¾“å‡º
4. æ£€æŸ¥ `eth_usdt_swap_daily_30d.json` æ–‡ä»¶æ˜¯å¦å®Œæ•´

---

**è®°ä½**ï¼šä¿®æ”¹ä»£ç åä¸€å®šè¦é‡å¯å¼€å‘æœåŠ¡å™¨ï¼

